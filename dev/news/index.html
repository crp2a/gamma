<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • gamma</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://crp2a.github.io/gamma/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gamma</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gamma.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/doserate.html">Obtaining a Dose Rate Calibration Curve</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/crp2a/gamma/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/crp2a/gamma/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0.9000" id="gamma-1109000">gamma 1.1.0.9000<a class="anchor" aria-label="anchor" href="#gamma-1109000"></a></h2>
<div class="section level3">
<h3 id="additions-1-1-0-9000">Additions<a class="anchor" aria-label="anchor" href="#additions-1-1-0-9000"></a></h3>
<ul><li>Add user friendly coercion methods: <code><a href="../reference/coerce.html">as_peaks()</a></code> and <code><a href="../reference/coerce.html">as_spectra()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="gamma-110">gamma 1.1.0<a class="anchor" aria-label="anchor" href="#gamma-110"></a></h2><p class="text-muted">CRAN release: 2024-09-23</p>
<div class="section level3">
<h3 id="bugfixes-1-1-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-1-1-0"></a></h3>
<ul><li>Fix an error in the uncertainty calculation of <code><a href="../reference/doserate.html">dose_predict()</a></code>. The returned error was too large and did not make much sense due to an internal calculation error. Along with the fix, the manual was updated to detail the uncertainty calculation (PR <a href="https://github.com/crp2a/gamma/issues/42" class="external-link">#42</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Fix a graphical issue where the peaks were peaks were set with <code>set_energy()</code> but did not show correctly when plotted using the standard plot method, e.g., <code>plot(cal, pks)</code> would show only observed but not expected energy lines in the secondary x-axis. Now the expected energy lines (if set) are show (<a href="https://github.com/crp2a/gamma/issues/29" class="external-link">#29</a>, PR <a href="https://github.com/crp2a/gamma/issues/32" class="external-link">#32</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Fix the uncertainty calculation for the integrated signal. The formula had an factor of 2 in <code>var(2 * x)</code> where <code>x</code> is the integrated signal. Now the formula considers plain Poisson statistics. Along with this change, the calculation is now detailed in the manual (PR <a href="https://github.com/crp2a/gamma/issues/46" class="external-link">#46</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="additions-1-1-0">Additions<a class="anchor" aria-label="anchor" href="#additions-1-1-0"></a></h3>
<ul><li>Add support for Kromek SPE files to <code><a href="../reference/read.html">read()</a></code> (<a href="https://github.com/crp2a/gamma/issues/28" class="external-link">#28</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Add support for <code>GammaSpectra-class</code> objects for <code><a href="../reference/energy.html">energy_calibrate()</a></code> (<a href="https://github.com/crp2a/gamma/issues/22" class="external-link">#22</a>, PR <a href="https://github.com/crp2a/gamma/issues/31" class="external-link">#31</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Add coercion method for <code>PeakPosition-class</code> to <code>list</code> (exported as <code><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list()</a></code>) and from <code>list</code> to <code>PeakPosition-class</code>. This enables better plotting functionality if the peak positions for where provided manually as <code>list</code> and not via, e.g., <code>peak_find()</code> (PR <a href="https://github.com/crp2a/gamma/issues/37" class="external-link">#37</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Add additional columns to the output object of <code><a href="../reference/doserate.html">dose_predict()</a></code> and calculate a “final” dose based on the mean of the findings from the count and the energy threshold (PR <a href="https://github.com/crp2a/gamma/issues/43" class="external-link">#43</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Add new methods for signatures <code>lm</code>, <code>CalibrationCurve-class</code>, and <code>GammaSpectrum-class</code> to<code><a href="../reference/energy.html">energy_calibrate()</a></code> for <code>GammaSpectrum-class</code> and <code>GammaSpectra-class()</code> objects for the argument <code>lines</code>. In simple words, instead of providing data for an energy/channel calibration such calibration can be copied over from another already calibrated spectrum (PR <a href="https://github.com/crp2a/gamma/issues/49" class="external-link">#49</a>, <a href="https://github.com/crp2a/gamma/issues/52" class="external-link">#52</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Add support for the energy calibration model to <code><a href="../reference/doserate.html">dose_fit()</a></code> and <code><a href="../reference/doserate.html">dose_predict()</a></code>. What does it mean? (1) If an energy calibration was performed on the spectra used for the dose rate model fitting, the model information is forwarded to the info slot of the model. (2) The function <code><a href="../reference/doserate.html">dose_fit()</a></code> can read this information and double-check whether the user tries to predict the dose with calibrated or uncalibrated data. If the calibration has data but the spectrum does not, the function tries to use the available calibration. Given that the energy calibration often does not change considerably, this should dramatically simplify the workflow once the equipment was calibrated (PR <a href="https://github.com/crp2a/gamma/issues/49" class="external-link">#49</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Add new argument <code>use_MC</code> to <code><a href="../reference/doserate.html">dose_predict()</a></code> method. The default is <code>FALSE</code> to maintain compatibility with old code and output exceptions. If set to <code>TRUE</code> the uncertainty on the gamma dose rate uses a Monte Carlo simulation approach for a more realistic error estimation (PR <a href="https://github.com/crp2a/gamma/issues/46" class="external-link">#46</a> by RLumSK).</li>
<li>Add new function parameter <code>water_content</code> to <code><a href="../reference/doserate.html">dose_predict()</a></code> to allow for an estimate of the dry gamma dose rate using the correction factor by Aitken (1985). The default is <code>NULL</code>, in this case nothing is corrected (PR <a href="https://github.com/crp2a/gamma/issues/48" class="external-link">#48</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Add two more generics: <code>set_energy_calibration()</code> and <code><a href="../reference/mutator.html">get_energy_calibration()</a></code> and corresponding methods for <code>GammaSpectrum</code> and <code>GammaSpectra</code> objects. They build on <code><a href="../reference/energy.html">energy_calibrate()</a></code> but enable a more comprehensible scripting.</li>
<li>Extend <code><a href="../reference/doserate.html">dose_predict()</a></code> to work with a <code>numeric</code> input for <code>background</code> as claimed in the documentary. This value can also be set to <code>c(0,0)</code> if no background subtraction is wanted (PR <a href="https://github.com/crp2a/gamma/issues/38" class="external-link">#38</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="changes-1-1-0">Changes<a class="anchor" aria-label="anchor" href="#changes-1-1-0"></a></h3>
<ul><li>Update vignette about the dose rate calibration curve determination to make it more intelligible (<a href="https://github.com/crp2a/gamma/issues/30" class="external-link">#30</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
<li>Update manual for the output object of <code><a href="../reference/doserate.html">dose_predict()</a></code>, which had some loopholes (PR <a href="https://github.com/crp2a/gamma/issues/43" class="external-link">#43</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="datasets-1-1-0">Datasets<a class="anchor" aria-label="anchor" href="#datasets-1-1-0"></a></h3>
<ul><li>Add conversion factor reference to <code>clermont</code> dataset for better transparency.</li>
<li>Add new dataset called <code>clermont_2024</code> based on the original <code>clermont</code> dataset but with dose rate conversion factors and gamma dose rate calculated for different conversion factor datasets (PR <a href="https://github.com/crp2a/gamma/issues/40" class="external-link">#40</a> by <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.5" id="gamma-105">gamma 1.0.5<a class="anchor" aria-label="anchor" href="#gamma-105"></a></h2><p class="text-muted">CRAN release: 2024-04-08</p>
<div class="section level3">
<h3 id="internals-1-0-5">Internals<a class="anchor" aria-label="anchor" href="#internals-1-0-5"></a></h3>
<ul><li>Fix unicode character in plot axis labels.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.4" id="gamma-104">gamma 1.0.4<a class="anchor" aria-label="anchor" href="#gamma-104"></a></h2><p class="text-muted">CRAN release: 2023-06-23</p>
<div class="section level3">
<h3 id="bugfixes--changes-1-0-4">Bugfixes &amp; changes<a class="anchor" aria-label="anchor" href="#bugfixes--changes-1-0-4"></a></h3>
<ul><li>Fix the metadata when reading a CNF file: do not use a fixed index to isolate particular metadata (the number of metadata may vary depending on the user’s acquisition).</li>
<li>Fix <code>set_energy&lt;-</code> so that argument <code>value</code> appears in the method at the end of the argument list.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.3" id="gamma-103">gamma 1.0.3<a class="anchor" aria-label="anchor" href="#gamma-103"></a></h2><p class="text-muted">CRAN release: 2022-09-15</p>
<div class="section level3">
<h3 id="bugfixes--changes-1-0-3">Bugfixes &amp; changes<a class="anchor" aria-label="anchor" href="#bugfixes--changes-1-0-3"></a></h3>
<ul><li>Remove the <code>alpha</code> argument in <code><a href="../reference/doserate.html">dose_fit()</a></code> to follow changes in <strong>IsoplotR</strong>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="gamma-102">gamma 1.0.2<a class="anchor" aria-label="anchor" href="#gamma-102"></a></h2><p class="text-muted">CRAN release: 2022-08-23</p>
<div class="section level3">
<h3 id="internals-1-0-2">Internals<a class="anchor" aria-label="anchor" href="#internals-1-0-2"></a></h3>
<ul><li>Use <strong>testthat</strong> 3rd edition (<a href="https://github.com/crp2a/gamma/issues/20" class="external-link">#20</a>).</li>
<li>Change package maintainer (<a href="https://github.com/crp2a/gamma/issues/24" class="external-link">#24</a>).</li>
<li>The package was removed from CRAN due to an internal call to a defunct function <code><a href="https://rdrr.io/r/base/base-defunct.html" class="external-link">default.stringsAsFactors()</a></code>; fixed (<a href="https://github.com/crp2a/gamma/issues/23" class="external-link">#23</a>, <a href="https://github.com/RLumSK" class="external-link">@RLumSK</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="gamma-101">gamma 1.0.1<a class="anchor" aria-label="anchor" href="#gamma-101"></a></h2><p class="text-muted">CRAN release: 2021-01-13</p>
<div class="section level3">
<h3 id="internals-1-0-1">Internals<a class="anchor" aria-label="anchor" href="#internals-1-0-1"></a></h3>
<ul><li>Skip test if suggested packages are not installed (<a href="https://github.com/crp2a/gamma/issues/19" class="external-link">#19</a>).</li>
<li>Use <code>\doi</code> instead of <code>\href</code> in documentation.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="gamma-100">gamma 1.0.0<a class="anchor" aria-label="anchor" href="#gamma-100"></a></h2><p class="text-muted">CRAN release: 2020-09-18</p>
<ul><li>First CRAN release.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="gamma-020">gamma 0.2.0<a class="anchor" aria-label="anchor" href="#gamma-020"></a></h2>
<ul><li>Beta release.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="gamma-011">gamma 0.1.1<a class="anchor" aria-label="anchor" href="#gamma-011"></a></h2>
<ul><li>Alpha release.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="gamma-010">gamma 0.1.0<a class="anchor" aria-label="anchor" href="#gamma-010"></a></h2>
<ul><li>Alpha release.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicolas Frerebeau, Brice Lebrun, Guilhem Paradol, Sebastian Kreutzer, <a href="https://www.archeosciences-bordeaux.fr.fr" class="external-link"><img src="https://crp2a.github.io/gamma/reference/figures/logo_archeosciences.jpg"></a>, <a href="https://www.u-bordeaux-montaigne.fr" class="external-link"><img src="https://crp2a.github.io/gamma/reference/figures/logo_ubm.jpg"></a>, <a href="https://www.cnrs.fr" class="external-link"><img src="https://crp2a.github.io/gamma/reference/figures/logo_cnrs.jpg"></a>, <img src="https://crp2a.github.io/gamma/reference/figures/logo_idex.png">, <img src="https://crp2a.github.io/gamma/reference/figures/logo_amidex.jpg">.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

